/**
 * Copyright (c) 2018, Ouster, Inc.
 * All rights reserved.
 */

#pragma once

#include <cstddef>

namespace ouster {
namespace viz {

inline float** genPalette(const int n, const float from[3], const float to[3]) {
    float** palette = new float*[n];
    for (int i = 0; i < n; i++) {
        palette[i] = new float[3];
        for (int j = 0; j < 3; j++) {
            palette[i][j] = (to[j] * i + from[j] * (n - 1 - i)) / (n - 1);
        }
    }
    return palette;
}

// clang-format off
// generated from:
// https://daniel.lawrence.lu/public/colortransform/#0_2423_964_352_6_2624_1000_513_11_3248_1000_617_15_415_1000_774
const size_t spezia_n = 256;
const float spezia_palette[spezia_n][3] = {
    {0.04890922165917825f, 0.34265700288230266f, 0.5139042200196196f},
    {0.04895672077739804f, 0.34399228711079705f, 0.5173325088859984f},
    {0.04899969158023907f, 0.34532432182766976f, 0.5207851330769154f},
    {0.049038068929181285f, 0.34665300013643424f, 0.5242624999557384f},
    {0.0490717860366443f, 0.3479782119131098f, 0.5277650273921529f},
    {0.04910077440233592f, 0.34929984367863964f, 0.5312931441090918f},
    {0.04912496374647964f, 0.35061777846523556f, 0.5348472900437968f},
    {0.049144281939685876f, 0.35193189567631167f, 0.5384279167237124f},
    {0.04915865492929047f, 0.3532420709396423f, 0.5420354876579142f},
    {0.04916800666192803f, 0.3545481759533582f, 0.5456704787448663f},
    {0.04917225900211732f, 0.3558500783243678f, 0.5493333786972924f},
    {0.04917133164659893f, 0.35714764139876426f, 0.553024689485032f},
    {0.0491651420341628f, 0.35844072408375016f, 0.5567449267967906f},
    {0.049153605250673076f, 0.35972918066057785f, 0.5604946205217287f},
    {0.04913663392897654f, 0.36101286058797066f, 0.5642743152519267f},
    {0.04911413814335756f, 0.36229160829545354f, 0.5680845708067875f},
    {0.04908602529819959f, 0.36356526296598163f, 0.5719259627805287f},
    {0.04905220001042406f, 0.36483365830721187f, 0.5757990831139734f},
    {0.04901256398533129f, 0.36609662231071893f, 0.5797045406919258f},
    {0.04896701588534969f, 0.36735397699840217f, 0.5836429619674972f},
    {0.04891545119124254f, 0.36860553815528246f, 0.5876149916148347f},
    {0.04885776205520153f, 0.36985111504782353f, 0.5916212932117864f},
    {0.048793837145294165f, 0.371090510126853f, 0.5956625499541581f},
    {0.048723561480604215f, 0.37232351871408936f, 0.5997394654032839f},
    {0.04864681625641982f, 0.37354992867120285f, 0.6038527642687842f},
    {0.0485634786587359f, 0.37476952005026626f, 0.6080031932284756f},
    {0.04847342166723854f, 0.3759820647243526f, 0.6121915217875443f},
    {0.04837651384597603f, 0.37718732599695254f, 0.6164185431792271f},
    {0.04827261912068898f, 0.3783850581887729f, 0.6206850753093874f},
    {0.04816159654185025f, 0.37957500620037093f, 0.6249919617475522f},
    {0.04804330003224206f, 0.38075690504895116f, 0.6293400727671268f},
    {0.047917578117875524f, 0.3819304793775204f, 0.633730306437712f},
    {0.04778427364089425f, 0.38309544293445374f, 0.6381635897726399f},
    {0.04764322345301101f, 0.38425149802135766f, 0.6426408799350484f},
    {0.04749425808786458f, 0.385398334906948f, 0.6471631655060938f},
    {0.04733720141054259f, 0.3865356312044689f, 0.6517314678190856f},
    {0.04717187024231324f, 0.3876630512099673f, 0.6563468423636755f},
    {0.046998073958454976f, 0.38878024519851034f, 0.6610103802644818f},
    {0.046815614056824016f, 0.3898868486751851f, 0.6657232098388559f},
    {0.04662428369457814f, 0.3909824815774357f, 0.6704864982388766f},
    {0.04642386719018477f, 0.39206674742499825f, 0.6753014531830023f},
    {0.04621413948754389f, 0.39313923241335524f, 0.6801693247832367f},
    {0.045994865578738504f, 0.3941995044462622f, 0.6850914074741193f},
    {0.04576579988147745f, 0.39524711210249736f, 0.6900690420503143f},
    {0.04552668556693947f, 0.3962815835315315f, 0.6951036178201221f},
    {0.04527725383318241f, 0.39730242527232407f, 0.7001965748827989f},
    {0.04501722311872807f, 0.39830912098889804f, 0.7053494065382041f},
    {0.04474629825033485f, 0.39930113011574186f, 0.7105636618379779f},
    {0.044464169518219306f, 0.4002778864054065f, 0.7158409482881979f},
    {0.044170511671191286f, 0.4012387963699213f, 0.7211829347142875f},
    {0.04386498282321687f, 0.4021832376068135f, 0.7265913542998228f},
    {0.04354722326188234f, 0.4031105569995846f, 0.7320680078119023f},
    {0.04321685414797862f, 0.40402006878146585f, 0.7376147670267773f},
    {0.0428734760940282f, 0.40491105245010933f, 0.743233578370643f},
    {0.042516667607970175f, 0.40578275051957646f, 0.748926466791789f},
    {0.04214598338630927f, 0.4066343660945334f, 0.7546955398817109f},
    {0.04176095243886018f, 0.40746506024993384f, 0.7605429922643745f},
    {0.04136107602475044f, 0.40827394919762916f, 0.766471110274553f},
    {0.04094582537627162f, 0.4090601012192915f, 0.7724822769480404f},
    {0.04051463918382638f, 0.40982253334270374f, 0.7785789773486957f},
    {0.040061502782456945f, 0.4105602077358398f, 0.7847638042595603f},
    {0.03959294089889664f, 0.41127202779018696f, 0.7910394642679004f},
    {0.039109793546916495f, 0.4119568338613871f, 0.7974087842769024f},
    {0.03861172210191932f, 0.41261339863144436f, 0.803874718479878f},
    {0.0380983735795864f, 0.4132404220523802f, 0.8104403558364525f},
    {0.03756937968562651f, 0.4138365258262561f, 0.8171089280940507f},
    {0.03702435578736771f, 0.4144002473707861f, 0.8238838184024792f},
    {0.0364628997996382f, 0.4149300332132621f, 0.8307685705742502f},
    {0.03588459097638143f, 0.4154242317480496f, 0.8377668990487521f},
    {0.035288988598694025f, 0.4158810852842974f, 0.844882699624589f},
    {0.03467563054866628f, 0.4162987213006144f, 0.8521200610312002f},
    {0.03404403175731731f, 0.41667514281199364f, 0.8594832774186676f},
    {0.033393682513460185f, 0.41700821774098445f, 0.8669768618532854f},
    {0.03272404661867004f, 0.41729566716967786f, 0.8746055609162682f},
    {0.032034559371859575f, 0.4175350523310705f, 0.8823743705140761f},
    {0.03132462536474723f, 0.41772376017735885f, 0.8902885530212784f},
    {0.03059361606719027f, 0.417858987338036f, 0.8983536558911435f},
    {0.029840867178669222f, 0.41793772225168413f, 0.9065755318852089f},
    {0.02906567571902483f, 0.4179567252211435f, 0.9149603610913213f},
    {0.028267296828018075f, 0.41791250610119823f, 0.9235146749206897f},
    {0.027444940239127507f, 0.41780129927982523f, 0.9322453822980893f},
    {0.026597766388240202f, 0.4176190355565933f, 0.9411597982868389f},
    {0.02572488211232861f, 0.41736131045306674f, 0.9502656754213602f},
    {0.02482533588680886f, 0.41702334840740857f, 0.9595712380560552f},
    {0.023898112542860842f, 0.416599962205498f, 0.9690852200808441f},
    {0.02294212739712791f, 0.41608550687982504f, 0.9788169064013666f},
    {0.02195621971619119f, 0.4154738271597193f, 0.9887761786374855f},
    {0.03533572637548167f, 0.4150344767837667f, 0.9966419438918287f},
    {0.08206748636661013f, 0.4154760610454022f, 0.996875442497312f},
    {0.1131664468320158f, 0.4159292422424467f, 0.9971067037505105f},
    {0.1377759789309851f, 0.4163940123475041f, 0.9973357493609963f},
    {0.1586260932452447f, 0.4168703621191211f, 0.9975626007042689f},
    {0.17695881259992585f, 0.41735828111703227f, 0.997787278826484f},
    {0.19346029551091778f, 0.4178577577177723f, 0.9980098044491156f},
    {0.2085556849234767f, 0.4183687791306285f, 0.9982301979735458f},
    {0.22252938052310162f, 0.41889133141394447f, 0.9984484794855942f},
    {0.2355824089832244f, 0.4194253994917421f, 0.9986646687599702f},
    {0.24786290560296725f, 0.4199709671706614f, 0.9988787852646682f},
    {0.25948364869956886f, 0.42052801715720073f, 0.9990908481652964f},
    {0.2705327829044692f, 0.42109653107524325f, 0.9993008763293371f},
    {0.2810807045979947f, 0.4216764894838623f, 0.9995088883303488f},
    {0.2911846624744039f, 0.4222678718953844f, 0.9997149024521047f},
    {0.30089193496804306f, 0.4228706567937021f, 0.9999189366926701f},
    {0.3199598560384707f, 0.4211529467871777f, 1.0000000000000044f},
    {0.3436114893370144f, 0.4178742172053897f, 1.0000000000000047f},
    {0.36539676089694495f, 0.41458308629177515f, 1.0000000000000044f},
    {0.3856661632570949f, 0.41127775518053283f, 1.0000000000000042f},
    {0.404675301565696f, 0.407956362084171f, 1.0000000000000044f},
    {0.4226172861700883f, 0.4046169767859018f, 1.0000000000000047f},
    {0.43964219386021874f, 0.40125759469274436f, 1.0000000000000047f},
    {0.45586938841351193f, 0.3978761303980185f, 1.0000000000000047f},
    {0.47139565849043324f, 0.39447041069519134f, 1.0000000000000047f},
    {0.4863007849418988f, 0.3910381669772773f, 1.0000000000000047f},
    {0.5006514638539757f, 0.3875770269469873f, 1.0000000000000044f},
    {0.5145041416968924f, 0.3840845055522841f, 1.0000000000000047f},
    {0.5279071095300848f, 0.3805579950497078f, 1.0000000000000047f},
    {0.5409020797263486f, 0.3769947540834305f, 1.0000000000000044f},
    {0.5535253932438766f, 0.3733918956509583f, 1.0000000000000044f},
    {0.5658089579546876f, 0.3697463738064324f, 1.0000000000000042f},
    {0.577780987780821f, 0.366054968928604f, 1.0000000000000049f},
    {0.589466591997403f, 0.3623142713523205f, 1.0000000000000047f},
    {0.6008882502481963f, 0.35852066312849035f, 1.0000000000000044f},
    {0.6120661992793963f, 0.3546702976368881f, 1.0000000000000047f},
    {0.6230187506929341f, 0.35075907672718176f, 1.0000000000000047f},
    {0.6337625542333337f, 0.34678262500419443f, 1.0000000000000047f},
    {0.6443128176539651f, 0.3427362608011279f, 1.0000000000000044f},
    {0.6546834916623888f, 0.33861496329592544f, 1.0000000000000047f},
    {0.664887426552217f, 0.3344133351169368f, 1.0000000000000044f},
    {0.6749365057066918f, 0.3301255596489445f, 1.0000000000000047f},
    {0.6848417600790246f, 0.32574535208217403f, 1.0000000000000047f},
    {0.6946134669261637f, 0.32126590303548275f, 1.0000000000000049f},
    {0.7042612354316643f, 0.31667981331755896f, 1.0000000000000047f},
    {0.7137940813531695f, 0.3119790180493533f, 1.0000000000000049f},
    {0.7232204924365964f, 0.3071546979334297f, 1.0000000000000049f},
    {0.7325484860275505f, 0.30219717488892517f, 1.0000000000000047f},
    {0.7417856600618409f, 0.2970957885292609f, 1.000000000000005f},
    {0.7509392384175178f, 0.2918387489798506f, 1.0000000000000047f},
    {0.760016111449703f, 0.28641296022435003f, 1.0000000000000047f},
    {0.7690228723986646f, 0.2808038063993306f, 1.0000000000000049f},
    {0.7779658502549104f, 0.27499489103633235f, 1.0000000000000049f},
    {0.7868511395774846f, 0.2689677158905533f, 1.0000000000000047f},
    {0.7956846276897148f, 0.26270128126132847f, 1.0000000000000047f},
    {0.804472019617065f, 0.2561715829275765f, 1.0000000000000047f},
    {0.8132188610824966f, 0.2493509709254887f, 1.0000000000000047f},
    {0.8219305598337341f, 0.24220732066040862f, 1.0000000000000049f},
    {0.8306124055427538f, 0.23470294440057987f, 1.0000000000000049f},
    {0.8392695884894237f, 0.2267931361345682f, 1.0000000000000047f},
    {0.847907217217596f, 0.21842418639150069f, 1.0000000000000047f},
    {0.8565303353323375f, 0.20953060994411976f, 1.0000000000000049f},
    {0.8651439375907393f, 0.20003116767718654f, 1.0000000000000049f},
    {0.8737529854254381f, 0.18982297245453064f, 1.0000000000000049f},
    {0.8823624220291222f, 0.17877241522237444f, 1.0000000000000047f},
    {0.8909771871196978f, 0.1667005280966983f, 1.0000000000000047f},
    {0.8996022314990386f, 0.15335795616479617f, 1.000000000000005f},
    {0.9082425315133318f, 0.13837882372526109f, 1.0000000000000049f},
    {0.9169031035195819f, 0.12118667725012405f, 1.0000000000000049f},
    {0.9255890184609986f, 0.10077304980525353f, 1.0000000000000047f},
    {0.9343054166534386f, 0.07504334998300113f, 1.0000000000000049f},
    {0.9430575228859241f, 0.03781952178921804f, 1.000000000000005f},
    {0.9509350420238839f, 1.4218570765223148e-13f, 0.9989984483716071f},
    {0.9554497353124459f, 1.4191675612451605e-13f, 0.9943640499109371f},
    {0.9599176427714787f, 1.4433731987395504e-13f, 0.9897799632511853f},
    {0.9643412154073002f, 1.4245465917994694e-13f, 0.9852425190239346f},
    {0.9687227616942858f, 1.4191675612451605e-13f, 0.9807481714229297f},
    {0.9730644583865243f, 1.411995520506082e-13f, 0.9762934885028384f},
    {0.9773683603724937f, 1.3931689135660008e-13f, 0.9718751430792824f},
    {0.9816364096714153f, 1.3886863881040766e-13f, 0.9674899041721569f},
    {0.9858704436584534f, 1.4039269746746187e-13f, 0.9631346289394122f},
    {0.9900722025959202f, 1.4397871783700112e-13f, 0.9588062550529955f},
    {0.9942433365389557f, 1.4155815408756212e-13f, 0.954501793472642f},
    {0.9983854116765075f, 1.3752388117183045e-13f, 0.9502183215767478f},
    {0.9999999999999819f, 0.02804423714351181f, 0.9437140548413381f},
    {0.9999999999999823f, 0.0675265531658979f, 0.9359017685954015f},
    {0.9999999999999826f, 0.09447578037166751f, 0.9282451825736049f},
    {0.9999999999999823f, 0.11567880450339993f, 0.920737795368809f},
    {0.9999999999999826f, 0.13352190503381375f, 0.9133734552831144f},
    {0.9999999999999823f, 0.1491028314594674f, 0.906146335428585f},
    {0.9999999999999826f, 0.16303259275115084f, 0.8990509109121838f},
    {0.9999999999999826f, 0.17569199214531872f, 0.8920819378992011f},
    {0.9999999999999826f, 0.18733702217610845f, 0.8852344343724449f},
    {0.9999999999999826f, 0.19814940356609517f, 0.8785036624245576f},
    {0.9999999999999823f, 0.20826355122506324f, 0.8718851119384158f},
    {0.9999999999999823f, 0.21778214249596284f, 0.8653744855260821f},
    {0.9999999999999826f, 0.22678566871532468f, 0.8589676846103573f},
    {0.9999999999999823f, 0.2353385863611125f, 0.8526607965450058f},
    {0.9999999999999828f, 0.24349343831907827f, 0.8464500826803465f},
    {0.9999999999999826f, 0.2512937077092952f, 0.840331967290248f},
    {0.9999999999999826f, 0.2587758499993201f, 0.8343030272849384f},
    {0.999999999999983f, 0.26739099502162367f, 0.8275538904243963f},
    {0.999999999999983f, 0.2793555475103376f, 0.8187524096848618f},
    {0.9999999999999828f, 0.29067538241472596f, 0.810154074771914f},
    {0.999999999999983f, 0.3014349177286362f, 0.8017491111724352f},
    {0.9999999999999826f, 0.31170258039783083f, 0.7935283442712853f},
    {0.9999999999999826f, 0.3215347049761315f, 0.7854831467895685f},
    {0.9999999999999826f, 0.3309782925632311f, 0.7776053911816436f},
    {0.9999999999999826f, 0.3400730122474594f, 0.7698874064041857f},
    {0.9999999999999826f, 0.34885268450644075f, 0.7623219385454285f},
    {0.999999999999983f, 0.35734640143399626f, 0.7549021148665397f},
    {0.9999999999999826f, 0.3655793867737775f, 0.7476214108616114f},
    {0.9999999999999826f, 0.3735736659274856f, 0.7404736199894286f},
    {0.9999999999999828f, 0.381348594792351f, 0.7334528257702123f},
    {0.9999999999999826f, 0.38892128210540905f, 0.7265533759748873f},
    {0.9999999999999823f, 0.3963069303390571f, 0.7197698586639263f},
    {0.9999999999999823f, 0.4035191135203492f, 0.7130970798581467f},
    {0.9999999999999823f, 0.410570005644612f, 0.7065300426455539f},
    {0.9999999999999821f, 0.4174705699878856f, 0.700063927546916f},
    {0.9999999999999819f, 0.4242307171780247f, 0.6936940739785828f},
    {0.9999999999999821f, 0.4308594380852102f, 0.6874159626644994f},
    {0.9999999999999821f, 0.4373649162525338f, 0.6812251988606219f},
    {0.9999999999999819f, 0.44375462357781925f, 0.6751174962642902f},
    {0.9999999999999819f, 0.4500354021895003f, 0.6690886614886871f},
    {0.9999999999999821f, 0.45621353486890187f, 0.6631345789884755f},
    {0.9999999999999817f, 0.4622948059133914f, 0.657251196327135f},
    {0.9999999999999817f, 0.4682845539768576f, 0.6514345096795133f},
    {0.9999999999999817f, 0.474187718141824f, 0.645680549464667f},
    {0.9999999999999817f, 0.4800088782535285f, 0.6399853660042518f},
    {0.9999999999999815f, 0.4857522903672667f, 0.6343450151004509f},
    {0.9999999999999815f, 0.4914219180162633f, 0.6287555434246979f},
    {0.9999999999999815f, 0.497021459890778f, 0.6232129736041581f},
    {0.9999999999999815f, 0.5025543744242497f, 0.6177132888869281f},
    {0.9999999999999815f, 0.5080239017046412f, 0.6122524172590773f},
    {0.999999999999981f, 0.5134330830652836f, 0.606826214876734f},
    {0.9999999999999808f, 0.518784778656747f, 0.6014304486641499f},
    {0.9999999999999808f, 0.5240816832574693f, 0.5960607779137368f},
    {0.9999999999999806f, 0.5293263405443853f, 0.5907127347060119f},
    {0.9999999999999806f, 0.5345211560142691f, 0.5853817029456958f},
    {0.9999999999999808f, 0.5396684087209026f, 0.580062895784249f},
    {0.9999999999999808f, 0.5447702619716198f, 0.5747513311680923f},
    {0.9999999999999806f, 0.5498287731085955f, 0.5694418052146554f},
    {0.9999999999999803f, 0.5548459024848833f, 0.5641288630740176f},
    {0.9999999999999801f, 0.5598235217321937f, 0.5588067668806895f},
    {0.9999999999999799f, 0.5647634214064047f, 0.5534694603362047f},
    {0.9999999999999799f, 0.569667318087479f, 0.5481105293861371f},
    {0.9999999999999801f, 0.5745368610026079f, 0.5427231583620321f},
    {0.9999999999999797f, 0.5793736382348097f, 0.5373000808456486f},
    {0.9999999999999797f, 0.5841791825736894f, 0.5318335243749407f},
    {0.9999999999999797f, 0.58895497706055f, 0.5263151479421893f},
    {0.9999999999999795f, 0.5937024602763533f, 0.5207359710263567f},
    {0.9999999999999795f, 0.5984230314181602f, 0.5150862926436902f},
    {0.9999999999999792f, 0.6031180552074987f, 0.5093555985787912f},
    {0.9999999999999792f, 0.607788866672662f, 0.5035324545546109f},
    {0.999999999999979f, 0.6124367758461117f, 0.4976043825895365f},
    {0.999999999999979f, 0.6170630724180334f, 0.4915577171399405f},
    {0.9999999999999788f, 0.6216690303876014f, 0.48537743679248463f},
    {0.9999999999999788f, 0.6262559127547657f, 0.4790469661903673f},
    {0.9999999999999784f, 0.6308249762973255f, 0.4725479414659382f},
    {0.9999999999999786f, 0.6353774764808859f, 0.46585993058805514f},
    {0.9999999999999784f, 0.6399146725529954f, 0.45896009754439654f},
    {0.9999999999999784f, 0.644437832877538f, 0.45182279591800384f},
    {0.9999999999999781f, 0.6489482405714118f, 0.4444190728188997f},
    {0.9999999999999779f, 0.6534471995128909f, 0.4367160577509657f},
    {0.9999999999999779f, 0.6579360408000906f, 0.4286762020035964f},
    {0.9999999999999779f, 0.6624161297489367f, 0.42025632127341656f},
    {0.9999999999999777f, 0.6668888735333959f, 0.41140637540952824f},
    {0.9999999999999777f, 0.6713557295869282f, 0.40206789113388525f},
    {0.9999999999999775f, 0.6758182149038043f, 0.3921718908087272f}};

const size_t calref_n = 256;
const float calref_palette[calref_n][3] = {
    {0.1f, 0.1f, 0.1f},
    {0.36862745098039246f, 0.30980392156862746f, 0.6352941176470588f},
    {0.3618608227604765f, 0.31856978085351784f, 0.6394463667820068f},
    {0.3550941945405613f, 0.3273356401384083f, 0.643598615916955f},
    {0.3483275663206459f, 0.3361014994232987f, 0.647750865051903f},
    {0.3415609381007305f, 0.3448673587081891f, 0.6519031141868512f},
    {0.33479430988081516f, 0.35363321799307956f, 0.6560553633217993f},
    {0.3280276816608997f, 0.36239907727796994f, 0.6602076124567474f},
    {0.3212610534409842f, 0.3711649365628603f, 0.6643598615916955f},
    {0.31449442522106885f, 0.3799307958477509f, 0.6685121107266436f},
    {0.3077277970011534f, 0.38869665513264134f, 0.6726643598615917f},
    {0.300961168781238f, 0.3974625144175317f, 0.6768166089965398f},
    {0.29419454056132255f, 0.4062283737024219f, 0.6809688581314879f},
    {0.2874279123414072f, 0.4149942329873126f, 0.685121107266436f},
    {0.2806612841214917f, 0.4237600922722031f, 0.6892733564013841f},
    {0.27389465590157624f, 0.4325259515570933f, 0.6934256055363321f},
    {0.2671280276816609f, 0.4412918108419839f, 0.6975778546712803f},
    {0.2603613994617455f, 0.45005767012687425f, 0.7017301038062282f},
    {0.25359477124183005f, 0.4588235294117643f, 0.7058823529411765f},
    {0.24682814302191458f, 0.46758938869665506f, 0.7100346020761246f},
    {0.24006151480199922f, 0.4763552479815456f, 0.7141868512110727f},
    {0.23329488658208386f, 0.485121107266436f, 0.7183391003460207f},
    {0.2265282583621684f, 0.49388696655132636f, 0.7224913494809689f},
    {0.21976163014225292f, 0.5026528258362168f, 0.726643598615917f},
    {0.21299500192233756f, 0.5114186851211073f, 0.7307958477508651f},
    {0.20622837370242209f, 0.5201845444059976f, 0.7349480968858132f},
    {0.19946174548250672f, 0.5289504036908883f, 0.7391003460207612f},
    {0.20007689350249913f, 0.5377931564782777f, 0.7393310265282583f},
    {0.2080738177623992f, 0.5467128027681663f, 0.7356401384083046f},
    {0.21607074202229903f, 0.5556324490580544f, 0.7319492502883508f},
    {0.2240676662821992f, 0.5645520953479432f, 0.7282583621683968f},
    {0.23206459054209927f, 0.5734717416378313f, 0.7245674740484429f},
    {0.24006151480199933f, 0.58239138792772f, 0.720876585928489f},
    {0.2480584390618994f, 0.5913110342176088f, 0.7171856978085351f},
    {0.25605536332179935f, 0.6002306805074966f, 0.7134948096885814f},
    {0.2640522875816994f, 0.6091503267973857f, 0.7098039215686275f},
    {0.27204921184159947f, 0.6180699730872741f, 0.7061130334486736f},
    {0.28004613610149953f, 0.6269896193771626f, 0.7024221453287197f},
    {0.2880430603613995f, 0.6359092656670511f, 0.6987312572087658f},
    {0.29603998462129966f, 0.6448289119569397f, 0.695040369088812f},
    {0.3040369088811996f, 0.6537485582468282f, 0.6913494809688581f},
    {0.3120338331410998f, 0.6626682045367166f, 0.6876585928489042f},
    {0.32003075740099973f, 0.671587850826605f, 0.6839677047289503f},
    {0.3280276816608998f, 0.6805074971164937f, 0.6802768166089965f},
    {0.33602460592079986f, 0.6894271434063821f, 0.6765859284890426f},
    {0.3440215301806999f, 0.6983467896962707f, 0.6728950403690888f},
    {0.35201845444059976f, 0.7072664359861591f, 0.6692041522491351f},
    {0.36001537870050004f, 0.7161860822760477f, 0.6655132641291811f},
    {0.3680123029604f, 0.7251057285659362f, 0.6618223760092272f},
    {0.37600922722029995f, 0.7340253748558248f, 0.6581314878892734f},
    {0.3840061514802f, 0.7429450211457131f, 0.6544405997693193f},
    {0.39200307574010007f, 0.7518646674356018f, 0.6507497116493657f},
    {0.40000000000000036f, 0.7607843137254902f, 0.6470588235294117f},
    {0.4106113033448675f, 0.7649365628604383f, 0.6469050365244137f},
    {0.42122260668973477f, 0.7690888119953864f, 0.6467512495194156f},
    {0.43183391003460214f, 0.7732410611303345f, 0.6465974625144175f},
    {0.4424452133794696f, 0.7773933102652826f, 0.6464436755094196f},
    {0.4530565167243371f, 0.7815455594002306f, 0.6462898885044215f},
    {0.46366782006920415f, 0.7856978085351789f, 0.6461361014994234f},
    {0.4742791234140715f, 0.7898500576701271f, 0.6459823144944252f},
    {0.4848904267589389f, 0.794002306805075f, 0.6458285274894271f},
    {0.49550173010380627f, 0.7981545559400232f, 0.645674740484429f},
    {0.5061130334486739f, 0.8023068050749711f, 0.6455209534794312f},
    {0.5167243367935411f, 0.8064590542099194f, 0.645367166474433f},
    {0.5273356401384084f, 0.8106113033448674f, 0.6452133794694349f},
    {0.5379469434832758f, 0.8147635524798154f, 0.6450595924644369f},
    {0.548558246828143f, 0.8189158016147636f, 0.6449058054594388f},
    {0.5591695501730105f, 0.8230680507497117f, 0.6447520184544406f},
    {0.5697808535178779f, 0.8272202998846598f, 0.6445982314494427f},
    {0.5803921568627453f, 0.831372549019608f, 0.6444444444444446f},
    {0.5910034602076126f, 0.8355247981545562f, 0.6442906574394465f},
    {0.60161476355248f, 0.8396770472895041f, 0.6441368704344483f},
    {0.6122260668973473f, 0.8438292964244521f, 0.6439830834294502f},
    {0.6228373702422147f, 0.8479815455594002f, 0.6438292964244523f},
    {0.633448673587082f, 0.8521337946943485f, 0.6436755094194541f},
    {0.6440599769319493f, 0.8562860438292964f, 0.6435217224144562f},
    {0.6546712802768165f, 0.8604382929642447f, 0.6433679354094579f},
    {0.6652825836216838f, 0.8645905420991928f, 0.6432141484044598f},
    {0.675124951941561f, 0.8685121107266438f, 0.6422145328719724f},
    {0.6841983852364476f, 0.8722029988465975f, 0.6403690888119954f},
    {0.6932718185313342f, 0.8758938869665513f, 0.6385236447520186f},
    {0.7023452518262208f, 0.8795847750865051f, 0.6366782006920415f},
    {0.7114186851211074f, 0.8832756632064591f, 0.6348327566320646f},
    {0.7204921184159938f, 0.8869665513264131f, 0.6329873125720877f},
    {0.7295655517108806f, 0.890657439446367f, 0.6311418685121105f},
    {0.7386389850057672f, 0.8943483275663208f, 0.6292964244521339f},
    {0.7477124183006536f, 0.8980392156862746f, 0.6274509803921569f},
    {0.7567858515955403f, 0.9017301038062284f, 0.62560553633218f},
    {0.7658592848904268f, 0.9054209919261822f, 0.6237600922722031f},
    {0.7749327181853134f, 0.909111880046136f, 0.6219146482122262f},
    {0.7840061514802001f, 0.9128027681660901f, 0.6200692041522492f},
    {0.7930795847750867f, 0.916493656286044f, 0.618223760092272f},
    {0.8021530180699734f, 0.920184544405998f, 0.6163783160322951f},
    {0.8112264513648599f, 0.9238754325259518f, 0.6145328719723183f},
    {0.8202998846597466f, 0.9275663206459055f, 0.6126874279123413f},
    {0.8293733179546331f, 0.9312572087658594f, 0.6108419838523645f},
    {0.8384467512495197f, 0.9349480968858133f, 0.6089965397923875f},
    {0.8475201845444063f, 0.9386389850057671f, 0.6071510957324106f},
    {0.8565936178392928f, 0.9423298731257211f, 0.6053056516724337f},
    {0.8656670511341793f, 0.9460207612456747f, 0.6034602076124568f},
    {0.874740484429066f, 0.9497116493656288f, 0.6016147635524798f},
    {0.8838139177239525f, 0.9534025374855826f, 0.5997693194925027f},
    {0.8928873510188393f, 0.9570934256055367f, 0.5979238754325257f},
    {0.9019607843137256f, 0.9607843137254903f, 0.5960784313725491f},
    {0.9058054594386773f, 0.962322183775471f, 0.6020761245674742f},
    {0.9096501345636295f, 0.9638600538254517f, 0.6080738177623993f},
    {0.9134948096885813f, 0.9653979238754326f, 0.6140715109573244f},
    {0.9173394848135333f, 0.9669357939254133f, 0.6200692041522493f},
    {0.9211841599384853f, 0.9684736639753941f, 0.6260668973471741f},
    {0.9250288350634372f, 0.9700115340253751f, 0.6320645905420991f},
    {0.9288735101883892f, 0.9715494040753557f, 0.6380622837370243f},
    {0.932718185313341f, 0.9730872741253366f, 0.6440599769319492f},
    {0.9365628604382931f, 0.9746251441753172f, 0.6500576701268744f},
    {0.9404075355632451f, 0.9761630142252982f, 0.6560553633217994f},
    {0.9442522106881969f, 0.9777008842752788f, 0.6620530565167244f},
    {0.9480968858131487f, 0.9792387543252595f, 0.6680507497116493f},
    {0.9519415609381008f, 0.9807766243752404f, 0.6740484429065746f},
    {0.9557862360630527f, 0.9823144944252212f, 0.6800461361014994f},
    {0.9596309111880046f, 0.9838523644752019f, 0.6860438292964245f},
    {0.9634755863129567f, 0.9853902345251826f, 0.6920415224913494f},
    {0.9673202614379086f, 0.9869281045751634f, 0.6980392156862747f},
    {0.9711649365628605f, 0.9884659746251442f, 0.7040369088811996f},
    {0.9750096116878124f, 0.9900038446751249f, 0.7100346020761246f},
    {0.9788542868127644f, 0.9915417147251058f, 0.7160322952710494f},
    {0.9826989619377164f, 0.9930795847750866f, 0.7220299884659747f},
    {0.9865436370626683f, 0.9946174548250674f, 0.7280276816608996f},
    {0.9903883121876201f, 0.9961553248750481f, 0.7340253748558248f},
    {0.9942329873125721f, 0.9976931949250287f, 0.7400230680507498f},
    {0.9980776624375239f, 0.9992310649750095f, 0.746020761245675f},
    {0.9999231064975008f, 0.9976163014225297f, 0.7450211457131873f},
    {0.9997693194925027f, 0.9928489042675892f, 0.7370242214532873f},
    {0.9996155324875048f, 0.988081507112649f, 0.729027297193387f},
    {0.9994617454825068f, 0.9833141099577085f, 0.7210303729334873f},
    {0.9993079584775085f, 0.9785467128027682f, 0.7130334486735873f},
    {0.9991541714725107f, 0.9737793156478278f, 0.7050365244136869f},
    {0.9990003844675125f, 0.9690119184928874f, 0.697039600153787f},
    {0.9988465974625144f, 0.9642445213379468f, 0.6890426758938869f},
    {0.9986928104575163f, 0.9594771241830067f, 0.681045751633987f},
    {0.9985390234525182f, 0.9547097270280661f, 0.6730488273740869f},
    {0.9983852364475202f, 0.9499423298731258f, 0.6650519031141869f},
    {0.9982314494425222f, 0.9451749327181854f, 0.6570549788542868f},
    {0.998077662437524f, 0.9404075355632449f, 0.6490580545943867f},
    {0.9979238754325258f, 0.9356401384083044f, 0.6410611303344868f},
    {0.9977700884275279f, 0.930872741253364f, 0.6330642060745867f},
    {0.9976163014225298f, 0.9261053440984237f, 0.6250672818146866f},
    {0.9974625144175316f, 0.9213379469434833f, 0.6170703575547868f},
    {0.9973087274125335f, 0.9165705497885427f, 0.6090734332948867f},
    {0.9971549404075356f, 0.9118031526336023f, 0.6010765090349864f},
    {0.9970011534025374f, 0.907035755478662f, 0.5930795847750865f},
    {0.9968473663975395f, 0.9022683583237218f, 0.5850826605151866f},
    {0.9966935793925413f, 0.8975009611687812f, 0.5770857362552864f},
    {0.9965397923875433f, 0.892733564013841f, 0.5690888119953864f},
    {0.9963860053825454f, 0.8879661668589005f, 0.5610918877354861f},
    {0.9962322183775473f, 0.88319876970396f, 0.5530949634755861f},
    {0.996078431372549f, 0.8784313725490196f, 0.5450980392156861f},
    {0.9959246443675508f, 0.8707420222991156f, 0.538638985005767f},
    {0.9957708573625528f, 0.8630526720492118f, 0.5321799307958477f},
    {0.9956170703575548f, 0.855363321799308f, 0.5257208765859284f},
    {0.9954632833525567f, 0.847673971549404f, 0.519261822376009f},
    {0.9953094963475586f, 0.8399846212995001f, 0.5128027681660898f},
    {0.9951557093425605f, 0.8322952710495963f, 0.5063437139561706f},
    {0.9950019223375625f, 0.8246059207996924f, 0.4998846597462513f},
    {0.9948481353325646f, 0.8169165705497885f, 0.4934256055363321f},
    {0.9946943483275664f, 0.8092272202998847f, 0.48696655132641264f},
    {0.9945405613225683f, 0.8015378700499808f, 0.48050749711649365f},
    {0.9943867743175702f, 0.7938485198000771f, 0.47404844290657466f},
    {0.9942329873125721f, 0.7861591695501731f, 0.4675893886966551f},
    {0.994079200307574f, 0.7784698193002692f, 0.4611303344867359f},
    {0.993925413302576f, 0.7707804690503652f, 0.4546712802768166f},
    {0.9937716262975778f, 0.7630911188004613f, 0.4482122260668975f},
    {0.99361783929258f, 0.7554017685505575f, 0.44175317185697793f},
    {0.9934640522875816f, 0.7477124183006536f, 0.43529411764705894f},
    {0.9933102652825835f, 0.7400230680507496f, 0.4288350634371395f},
    {0.9931564782775857f, 0.7323337178008458f, 0.4223760092272202f},
    {0.9930026912725872f, 0.724644367550942f, 0.4159169550173013f},
    {0.9928489042675894f, 0.716955017301038f, 0.40945790080738176f},
    {0.9926951172625912f, 0.7092656670511341f, 0.40299884659746266f},
    {0.9925413302575933f, 0.7015763168012303f, 0.3965397923875432f},
    {0.9923875432525952f, 0.6938869665513263f, 0.390080738177624f},
    {0.992233756247597f, 0.6861976163014225f, 0.3836216839677048f},
    {0.9914648212226067f, 0.677354863514033f, 0.3780853517877738f},
    {0.990080738177624f, 0.6673587081891583f, 0.3734717416378317f},
    {0.9886966551326414f, 0.6573625528642829f, 0.36885813148788904f},
    {0.9873125720876587f, 0.647366397539408f, 0.36424452133794694f},
    {0.985928489042676f, 0.6373702422145329f, 0.3596309111880045f},
    {0.9845444059976933f, 0.6273740868896578f, 0.35501730103806217f},
    {0.9831603229527106f, 0.6173779315647828f, 0.35040369088811985f},
    {0.981776239907728f, 0.6073817762399077f, 0.3457900807381774f},
    {0.9803921568627451f, 0.5973856209150328f, 0.3411764705882355f},
    {0.9790080738177624f, 0.5873894655901575f, 0.33656286043829287f},
    {0.9776239907727798f, 0.5773933102652827f, 0.33194925028835065f},
    {0.976239907727797f, 0.5673971549404075f, 0.3273356401384082f},
    {0.9748558246828143f, 0.5574009996155325f, 0.3227220299884661f},
    {0.9734717416378316f, 0.5474048442906574f, 0.3181084198385238f},
    {0.9720876585928488f, 0.5374086889657824f, 0.31349480968858146f},
    {0.9707035755478661f, 0.5274125336409075f, 0.30888119953863913f},
    {0.9693194925028835f, 0.5174163783160323f, 0.3042675893886967f},
    {0.9679354094579009f, 0.5074202229911575f, 0.2996539792387545f},
    {0.9665513264129182f, 0.4974240676662822f, 0.2950403690888119f},
    {0.9651672433679354f, 0.4874279123414072f, 0.2904267589388697f},
    {0.9637831603229527f, 0.47743175701653207f, 0.2858131487889273f},
    {0.9623990772779699f, 0.4674356016916571f, 0.28119953863898506f},
    {0.9610149942329872f, 0.4574394463667821f, 0.27658592848904273f},
    {0.9596309111880046f, 0.447443291041907f, 0.2719723183391005f},
    {0.958246828143022f, 0.43744713571703187f, 0.2673587081891581f},
    {0.9568627450980394f, 0.42745098039215673f, 0.26274509803921564f},
    {0.9520953479430986f, 0.42022299115724726f, 0.26459054209919286f},
    {0.9473279507881583f, 0.4129950019223377f, 0.26643598615916975f},
    {0.9425605536332179f, 0.40576701268742793f, 0.26828143021914663f},
    {0.9377931564782777f, 0.39853902345251835f, 0.2701268742791235f},
    {0.9330257593233372f, 0.3913110342176086f, 0.2719723183391004f},
    {0.928258362168397f, 0.38408304498269874f, 0.27381776239907707f},
    {0.9234909650134564f, 0.3768550557477892f, 0.2756632064590543f},
    {0.9187235678585162f, 0.36962706651287985f, 0.2775086505190312f},
    {0.9139561707035755f, 0.36239907727797027f, 0.2793540945790083f},
    {0.9091887735486351f, 0.3551710880430604f, 0.28119953863898506f},
    {0.9044213763936948f, 0.34794309880815055f, 0.28304498269896183f},
    {0.8996539792387543f, 0.340715109573241f, 0.28489042675893894f},
    {0.8948865820838141f, 0.3334871203383314f, 0.28673587081891583f},
    {0.8901191849288733f, 0.326259131103422f, 0.28858131487889305f},
    {0.8853517877739333f, 0.319031141868512f, 0.2904267589388695f},
    {0.8805843906189926f, 0.3118031526336025f, 0.2922722029988466f},
    {0.8758169934640523f, 0.30457516339869284f, 0.2941176470588236f},
    {0.871049596309112f, 0.2973471741637831f, 0.2959630911188005f},
    {0.8662821991541714f, 0.29011918492887356f, 0.2978085351787776f},
    {0.8615148019992313f, 0.2828911956939638f, 0.2996539792387542f},
    {0.8567474048442908f, 0.2756632064590542f, 0.30149942329873114f},
    {0.8519800076893502f, 0.26843521722414465f, 0.3033448673587078f},
    {0.84721261053441f, 0.2612072279892348f, 0.3051903114186846f},
    {0.8424452133794698f, 0.2539792387543254f, 0.3070357554786618f},
    {0.8376778162245291f, 0.24675124951941552f, 0.3088811995386387f},
    {0.8310649750096116f, 0.23844675124951953f, 0.30880430603613984f},
    {0.8226066897347173f, 0.22906574394463686f, 0.3068050749711647f},
    {0.8141484044598231f, 0.21968473663975407f, 0.30480584390618953f},
    {0.8056901191849288f, 0.2103037293348713f, 0.30280661284121513f},
    {0.7972318339100345f, 0.20092272202998862f, 0.30080738177624006f},
    {0.7887735486351404f, 0.19154171472510573f, 0.2988081507112643f},
    {0.7803152633602461f, 0.18216070742022294f, 0.2968089196462894f},
    {0.7718569780853518f, 0.17277970011534027f, 0.2948096885813144f},
    {0.7633986928104576f, 0.1633986928104575f, 0.29281045751633983f},
    {0.7549404075355632f, 0.15401768550557482f, 0.29081122645136503f},
    {0.746482122260669f, 0.14463667820069204f, 0.2888119953863893f},
    {0.7380238369857748f, 0.13525567089580925f, 0.2868127643214149f},
    {0.7295655517108804f, 0.12587466359092658f, 0.2848135332564399f},
    {0.7211072664359862f, 0.1164936562860438f, 0.28281430219146436f},
    {0.7126489811610921f, 0.10711264898116135f, 0.2808150711264894f},
    {0.7041906958861976f, 0.09773164167627835f, 0.2788158400615146f},
    {0.6957324106113034f, 0.08835063437139556f, 0.27681660899653987f},
    {0.6872741253364091f, 0.07896962706651289f, 0.2748173779315646f},
    {0.6788158400615149f, 0.06958861976163011f, 0.27281814686658995f},
    {0.6703575547866205f, 0.06020761245674744f, 0.2708189158016141f},
    {0.6618992695117263f, 0.05082660515186466f, 0.26881968473663936f},
    {0.6534409842368321f, 0.041445597846981874f, 0.2668204536716644f},
    {0.6449826989619377f, 0.0320645905420992f, 0.26482122260668983f},
    {0.6365244136870435f, 0.02268358323721642f, 0.2628219915417146f},
    {0.6280661284121491f, 0.013302575932333749f, 0.26082276047673913f}};

const size_t grey_n = 256;
const float grey_palette[grey_n][3] = {{0.0f, 0.0f, 0.0f},
                                       {0.00392157f, 0.00392157f, 0.00392157f},
                                       {0.00784314f, 0.00784314f, 0.00784314f},
                                       {0.0117647f, 0.0117647f, 0.0117647f},
                                       {0.0156863f, 0.0156863f, 0.0156863f},
                                       {0.0196078f, 0.0196078f, 0.0196078f},
                                       {0.0235294f, 0.0235294f, 0.0235294f},
                                       {0.027451f, 0.027451f, 0.027451f},
                                       {0.0313726f, 0.0313726f, 0.0313726f},
                                       {0.0352941f, 0.0352941f, 0.0352941f},
                                       {0.0392157f, 0.0392157f, 0.0392157f},
                                       {0.0431373f, 0.0431373f, 0.0431373f},
                                       {0.0470588f, 0.0470588f, 0.0470588f},
                                       {0.0509804f, 0.0509804f, 0.0509804f},
                                       {0.054902f, 0.054902f, 0.054902f},
                                       {0.0588235f, 0.0588235f, 0.0588235f},
                                       {0.0627451f, 0.0627451f, 0.0627451f},
                                       {0.0666667f, 0.0666667f, 0.0666667f},
                                       {0.0705882f, 0.0705882f, 0.0705882f},
                                       {0.0745098f, 0.0745098f, 0.0745098f},
                                       {0.0784314f, 0.0784314f, 0.0784314f},
                                       {0.0823529f, 0.0823529f, 0.0823529f},
                                       {0.0862745f, 0.0862745f, 0.0862745f},
                                       {0.0901961f, 0.0901961f, 0.0901961f},
                                       {0.0941176f, 0.0941176f, 0.0941176f},
                                       {0.0980392f, 0.0980392f, 0.0980392f},
                                       {0.101961f, 0.101961f, 0.101961f},
                                       {0.105882f, 0.105882f, 0.105882f},
                                       {0.109804f, 0.109804f, 0.109804f},
                                       {0.113725f, 0.113725f, 0.113725f},
                                       {0.117647f, 0.117647f, 0.117647f},
                                       {0.121569f, 0.121569f, 0.121569f},
                                       {0.12549f, 0.12549f, 0.12549f},
                                       {0.129412f, 0.129412f, 0.129412f},
                                       {0.133333f, 0.133333f, 0.133333f},
                                       {0.137255f, 0.137255f, 0.137255f},
                                       {0.141176f, 0.141176f, 0.141176f},
                                       {0.145098f, 0.145098f, 0.145098f},
                                       {0.14902f, 0.14902f, 0.14902f},
                                       {0.152941f, 0.152941f, 0.152941f},
                                       {0.156863f, 0.156863f, 0.156863f},
                                       {0.160784f, 0.160784f, 0.160784f},
                                       {0.164706f, 0.164706f, 0.164706f},
                                       {0.168627f, 0.168627f, 0.168627f},
                                       {0.172549f, 0.172549f, 0.172549f},
                                       {0.176471f, 0.176471f, 0.176471f},
                                       {0.180392f, 0.180392f, 0.180392f},
                                       {0.184314f, 0.184314f, 0.184314f},
                                       {0.188235f, 0.188235f, 0.188235f},
                                       {0.192157f, 0.192157f, 0.192157f},
                                       {0.196078f, 0.196078f, 0.196078f},
                                       {0.2f, 0.2f, 0.2f},
                                       {0.203922f, 0.203922f, 0.203922f},
                                       {0.207843f, 0.207843f, 0.207843f},
                                       {0.211765f, 0.211765f, 0.211765f},
                                       {0.215686f, 0.215686f, 0.215686f},
                                       {0.219608f, 0.219608f, 0.219608f},
                                       {0.223529f, 0.223529f, 0.223529f},
                                       {0.227451f, 0.227451f, 0.227451f},
                                       {0.231373f, 0.231373f, 0.231373f},
                                       {0.235294f, 0.235294f, 0.235294f},
                                       {0.239216f, 0.239216f, 0.239216f},
                                       {0.243137f, 0.243137f, 0.243137f},
                                       {0.247059f, 0.247059f, 0.247059f},
                                       {0.25098f, 0.25098f, 0.25098f},
                                       {0.254902f, 0.254902f, 0.254902f},
                                       {0.258824f, 0.258824f, 0.258824f},
                                       {0.262745f, 0.262745f, 0.262745f},
                                       {0.266667f, 0.266667f, 0.266667f},
                                       {0.270588f, 0.270588f, 0.270588f},
                                       {0.27451f, 0.27451f, 0.27451f},
                                       {0.278431f, 0.278431f, 0.278431f},
                                       {0.282353f, 0.282353f, 0.282353f},
                                       {0.286275f, 0.286275f, 0.286275f},
                                       {0.290196f, 0.290196f, 0.290196f},
                                       {0.294118f, 0.294118f, 0.294118f},
                                       {0.298039f, 0.298039f, 0.298039f},
                                       {0.301961f, 0.301961f, 0.301961f},
                                       {0.305882f, 0.305882f, 0.305882f},
                                       {0.309804f, 0.309804f, 0.309804f},
                                       {0.313726f, 0.313726f, 0.313726f},
                                       {0.317647f, 0.317647f, 0.317647f},
                                       {0.321569f, 0.321569f, 0.321569f},
                                       {0.32549f, 0.32549f, 0.32549f},
                                       {0.329412f, 0.329412f, 0.329412f},
                                       {0.333333f, 0.333333f, 0.333333f},
                                       {0.337255f, 0.337255f, 0.337255f},
                                       {0.341176f, 0.341176f, 0.341176f},
                                       {0.345098f, 0.345098f, 0.345098f},
                                       {0.34902f, 0.34902f, 0.34902f},
                                       {0.352941f, 0.352941f, 0.352941f},
                                       {0.356863f, 0.356863f, 0.356863f},
                                       {0.360784f, 0.360784f, 0.360784f},
                                       {0.364706f, 0.364706f, 0.364706f},
                                       {0.368627f, 0.368627f, 0.368627f},
                                       {0.372549f, 0.372549f, 0.372549f},
                                       {0.376471f, 0.376471f, 0.376471f},
                                       {0.380392f, 0.380392f, 0.380392f},
                                       {0.384314f, 0.384314f, 0.384314f},
                                       {0.388235f, 0.388235f, 0.388235f},
                                       {0.392157f, 0.392157f, 0.392157f},
                                       {0.396078f, 0.396078f, 0.396078f},
                                       {0.4f, 0.4f, 0.4f},
                                       {0.403922f, 0.403922f, 0.403922f},
                                       {0.407843f, 0.407843f, 0.407843f},
                                       {0.411765f, 0.411765f, 0.411765f},
                                       {0.415686f, 0.415686f, 0.415686f},
                                       {0.419608f, 0.419608f, 0.419608f},
                                       {0.423529f, 0.423529f, 0.423529f},
                                       {0.427451f, 0.427451f, 0.427451f},
                                       {0.431373f, 0.431373f, 0.431373f},
                                       {0.435294f, 0.435294f, 0.435294f},
                                       {0.439216f, 0.439216f, 0.439216f},
                                       {0.443137f, 0.443137f, 0.443137f},
                                       {0.447059f, 0.447059f, 0.447059f},
                                       {0.45098f, 0.45098f, 0.45098f},
                                       {0.454902f, 0.454902f, 0.454902f},
                                       {0.458824f, 0.458824f, 0.458824f},
                                       {0.462745f, 0.462745f, 0.462745f},
                                       {0.466667f, 0.466667f, 0.466667f},
                                       {0.470588f, 0.470588f, 0.470588f},
                                       {0.47451f, 0.47451f, 0.47451f},
                                       {0.478431f, 0.478431f, 0.478431f},
                                       {0.482353f, 0.482353f, 0.482353f},
                                       {0.486275f, 0.486275f, 0.486275f},
                                       {0.490196f, 0.490196f, 0.490196f},
                                       {0.494118f, 0.494118f, 0.494118f},
                                       {0.498039f, 0.498039f, 0.498039f},
                                       {0.501961f, 0.501961f, 0.501961f},
                                       {0.505882f, 0.505882f, 0.505882f},
                                       {0.509804f, 0.509804f, 0.509804f},
                                       {0.513726f, 0.513726f, 0.513726f},
                                       {0.517647f, 0.517647f, 0.517647f},
                                       {0.521569f, 0.521569f, 0.521569f},
                                       {0.52549f, 0.52549f, 0.52549f},
                                       {0.529412f, 0.529412f, 0.529412f},
                                       {0.533333f, 0.533333f, 0.533333f},
                                       {0.537255f, 0.537255f, 0.537255f},
                                       {0.541176f, 0.541176f, 0.541176f},
                                       {0.545098f, 0.545098f, 0.545098f},
                                       {0.54902f, 0.54902f, 0.54902f},
                                       {0.552941f, 0.552941f, 0.552941f},
                                       {0.556863f, 0.556863f, 0.556863f},
                                       {0.560784f, 0.560784f, 0.560784f},
                                       {0.564706f, 0.564706f, 0.564706f},
                                       {0.568627f, 0.568627f, 0.568627f},
                                       {0.572549f, 0.572549f, 0.572549f},
                                       {0.576471f, 0.576471f, 0.576471f},
                                       {0.580392f, 0.580392f, 0.580392f},
                                       {0.584314f, 0.584314f, 0.584314f},
                                       {0.588235f, 0.588235f, 0.588235f},
                                       {0.592157f, 0.592157f, 0.592157f},
                                       {0.596078f, 0.596078f, 0.596078f},
                                       {0.6f, 0.6f, 0.6f},
                                       {0.603922f, 0.603922f, 0.603922f},
                                       {0.607843f, 0.607843f, 0.607843f},
                                       {0.611765f, 0.611765f, 0.611765f},
                                       {0.615686f, 0.615686f, 0.615686f},
                                       {0.619608f, 0.619608f, 0.619608f},
                                       {0.623529f, 0.623529f, 0.623529f},
                                       {0.627451f, 0.627451f, 0.627451f},
                                       {0.631373f, 0.631373f, 0.631373f},
                                       {0.635294f, 0.635294f, 0.635294f},
                                       {0.639216f, 0.639216f, 0.639216f},
                                       {0.643137f, 0.643137f, 0.643137f},
                                       {0.647059f, 0.647059f, 0.647059f},
                                       {0.65098f, 0.65098f, 0.65098f},
                                       {0.654902f, 0.654902f, 0.654902f},
                                       {0.658824f, 0.658824f, 0.658824f},
                                       {0.662745f, 0.662745f, 0.662745f},
                                       {0.666667f, 0.666667f, 0.666667f},
                                       {0.670588f, 0.670588f, 0.670588f},
                                       {0.67451f, 0.67451f, 0.67451f},
                                       {0.678431f, 0.678431f, 0.678431f},
                                       {0.682353f, 0.682353f, 0.682353f},
                                       {0.686275f, 0.686275f, 0.686275f},
                                       {0.690196f, 0.690196f, 0.690196f},
                                       {0.694118f, 0.694118f, 0.694118f},
                                       {0.698039f, 0.698039f, 0.698039f},
                                       {0.701961f, 0.701961f, 0.701961f},
                                       {0.705882f, 0.705882f, 0.705882f},
                                       {0.709804f, 0.709804f, 0.709804f},
                                       {0.713726f, 0.713726f, 0.713726f},
                                       {0.717647f, 0.717647f, 0.717647f},
                                       {0.721569f, 0.721569f, 0.721569f},
                                       {0.72549f, 0.72549f, 0.72549f},
                                       {0.729412f, 0.729412f, 0.729412f},
                                       {0.733333f, 0.733333f, 0.733333f},
                                       {0.737255f, 0.737255f, 0.737255f},
                                       {0.741176f, 0.741176f, 0.741176f},
                                       {0.745098f, 0.745098f, 0.745098f},
                                       {0.74902f, 0.74902f, 0.74902f},
                                       {0.752941f, 0.752941f, 0.752941f},
                                       {0.756863f, 0.756863f, 0.756863f},
                                       {0.760784f, 0.760784f, 0.760784f},
                                       {0.764706f, 0.764706f, 0.764706f},
                                       {0.768627f, 0.768627f, 0.768627f},
                                       {0.772549f, 0.772549f, 0.772549f},
                                       {0.776471f, 0.776471f, 0.776471f},
                                       {0.780392f, 0.780392f, 0.780392f},
                                       {0.784314f, 0.784314f, 0.784314f},
                                       {0.788235f, 0.788235f, 0.788235f},
                                       {0.792157f, 0.792157f, 0.792157f},
                                       {0.796078f, 0.796078f, 0.796078f},
                                       {0.8f, 0.8f, 0.8f},
                                       {0.803922f, 0.803922f, 0.803922f},
                                       {0.807843f, 0.807843f, 0.807843f},
                                       {0.811765f, 0.811765f, 0.811765f},
                                       {0.815686f, 0.815686f, 0.815686f},
                                       {0.819608f, 0.819608f, 0.819608f},
                                       {0.823529f, 0.823529f, 0.823529f},
                                       {0.827451f, 0.827451f, 0.827451f},
                                       {0.831373f, 0.831373f, 0.831373f},
                                       {0.835294f, 0.835294f, 0.835294f},
                                       {0.839216f, 0.839216f, 0.839216f},
                                       {0.843137f, 0.843137f, 0.843137f},
                                       {0.847059f, 0.847059f, 0.847059f},
                                       {0.85098f, 0.85098f, 0.85098f},
                                       {0.854902f, 0.854902f, 0.854902f},
                                       {0.858824f, 0.858824f, 0.858824f},
                                       {0.862745f, 0.862745f, 0.862745f},
                                       {0.866667f, 0.866667f, 0.866667f},
                                       {0.870588f, 0.870588f, 0.870588f},
                                       {0.87451f, 0.87451f, 0.87451f},
                                       {0.878431f, 0.878431f, 0.878431f},
                                       {0.882353f, 0.882353f, 0.882353f},
                                       {0.886275f, 0.886275f, 0.886275f},
                                       {0.890196f, 0.890196f, 0.890196f},
                                       {0.894118f, 0.894118f, 0.894118f},
                                       {0.898039f, 0.898039f, 0.898039f},
                                       {0.901961f, 0.901961f, 0.901961f},
                                       {0.905882f, 0.905882f, 0.905882f},
                                       {0.909804f, 0.909804f, 0.909804f},
                                       {0.913725f, 0.913725f, 0.913725f},
                                       {0.917647f, 0.917647f, 0.917647f},
                                       {0.921569f, 0.921569f, 0.921569f},
                                       {0.92549f, 0.92549f, 0.92549f},
                                       {0.929412f, 0.929412f, 0.929412f},
                                       {0.933333f, 0.933333f, 0.933333f},
                                       {0.937255f, 0.937255f, 0.937255f},
                                       {0.941176f, 0.941176f, 0.941176f},
                                       {0.945098f, 0.945098f, 0.945098f},
                                       {0.94902f, 0.94902f, 0.94902f},
                                       {0.952941f, 0.952941f, 0.952941f},
                                       {0.956863f, 0.956863f, 0.956863f},
                                       {0.960784f, 0.960784f, 0.960784f},
                                       {0.964706f, 0.964706f, 0.964706f},
                                       {0.968627f, 0.968627f, 0.968627f},
                                       {0.972549f, 0.972549f, 0.972549f},
                                       {0.976471f, 0.976471f, 0.976471f},
                                       {0.980392f, 0.980392f, 0.980392f},
                                       {0.984314f, 0.984314f, 0.984314f},
                                       {0.988235f, 0.988235f, 0.988235f},
                                       {0.992157f, 0.992157f, 0.992157f},
                                       {0.996078f, 0.996078f, 0.996078f},
                                       {1.0f, 1.0f, 1.0f}};

// original colormaps licensed CC0f, public domain, no attribution needed:
// https://github.com/BIDS/colormap/blob/master/LICENSE.txt
const size_t viridis_n = 256;
const float viridis_palette[viridis_n][3] = {
    {0.26700401f, 0.00487433f, 0.32941519f},
    {0.26851048f, 0.00960483f, 0.33542652f},
    {0.26994384f, 0.01462494f, 0.34137895f},
    {0.27130489f, 0.01994186f, 0.34726862f},
    {0.27259384f, 0.02556309f, 0.35309303f},
    {0.27380934f, 0.03149748f, 0.35885256f},
    {0.27495242f, 0.03775181f, 0.36454323f},
    {0.27602238f, 0.04416723f, 0.37016418f},
    {0.2770184f, 0.05034437f, 0.37571452f},
    {0.27794143f, 0.05632444f, 0.38119074f},
    {0.27879067f, 0.06214536f, 0.38659204f},
    {0.2795655f, 0.06783587f, 0.39191723f},
    {0.28026658f, 0.07341724f, 0.39716349f},
    {0.28089358f, 0.07890703f, 0.40232944f},
    {0.28144581f, 0.0843197f, 0.40741404f},
    {0.28192358f, 0.08966622f, 0.41241521f},
    {0.28232739f, 0.09495545f, 0.41733086f},
    {0.28265633f, 0.10019576f, 0.42216032f},
    {0.28291049f, 0.10539345f, 0.42690202f},
    {0.28309095f, 0.11055307f, 0.43155375f},
    {0.28319704f, 0.11567966f, 0.43611482f},
    {0.28322882f, 0.12077701f, 0.44058404f},
    {0.28318684f, 0.12584799f, 0.44496f},
    {0.283072f, 0.13089477f, 0.44924127f},
    {0.28288389f, 0.13592005f, 0.45342734f},
    {0.28262297f, 0.14092556f, 0.45751726f},
    {0.28229037f, 0.14591233f, 0.46150995f},
    {0.28188676f, 0.15088147f, 0.46540474f},
    {0.28141228f, 0.15583425f, 0.46920128f},
    {0.28086773f, 0.16077132f, 0.47289909f},
    {0.28025468f, 0.16569272f, 0.47649762f},
    {0.27957399f, 0.17059884f, 0.47999675f},
    {0.27882618f, 0.1754902f, 0.48339654f},
    {0.27801236f, 0.18036684f, 0.48669702f},
    {0.27713437f, 0.18522836f, 0.48989831f},
    {0.27619376f, 0.19007447f, 0.49300074f},
    {0.27519116f, 0.1949054f, 0.49600488f},
    {0.27412802f, 0.19972086f, 0.49891131f},
    {0.27300596f, 0.20452049f, 0.50172076f},
    {0.27182812f, 0.20930306f, 0.50443413f},
    {0.27059473f, 0.21406899f, 0.50705243f},
    {0.26930756f, 0.21881782f, 0.50957678f},
    {0.26796846f, 0.22354911f, 0.5120084f},
    {0.26657984f, 0.2282621f, 0.5143487f},
    {0.2651445f, 0.23295593f, 0.5165993f},
    {0.2636632f, 0.23763078f, 0.51876163f},
    {0.26213801f, 0.24228619f, 0.52083736f},
    {0.26057103f, 0.2469217f, 0.52282822f},
    {0.25896451f, 0.25153685f, 0.52473609f},
    {0.25732244f, 0.2561304f, 0.52656332f},
    {0.25564519f, 0.26070284f, 0.52831152f},
    {0.25393498f, 0.26525384f, 0.52998273f},
    {0.25219404f, 0.26978306f, 0.53157905f},
    {0.25042462f, 0.27429024f, 0.53310261f},
    {0.24862899f, 0.27877509f, 0.53455561f},
    {0.2468114f, 0.28323662f, 0.53594093f},
    {0.24497208f, 0.28767547f, 0.53726018f},
    {0.24311324f, 0.29209154f, 0.53851561f},
    {0.24123708f, 0.29648471f, 0.53970946f},
    {0.23934575f, 0.30085494f, 0.54084398f},
    {0.23744138f, 0.30520222f, 0.5419214f},
    {0.23552606f, 0.30952657f, 0.54294396f},
    {0.23360277f, 0.31382773f, 0.54391424f},
    {0.2316735f, 0.3181058f, 0.54483444f},
    {0.22973926f, 0.32236127f, 0.54570633f},
    {0.22780192f, 0.32659432f, 0.546532f},
    {0.2258633f, 0.33080515f, 0.54731353f},
    {0.22392515f, 0.334994f, 0.54805291f},
    {0.22198915f, 0.33916114f, 0.54875211f},
    {0.22005691f, 0.34330688f, 0.54941304f},
    {0.21812995f, 0.34743154f, 0.55003755f},
    {0.21620971f, 0.35153548f, 0.55062743f},
    {0.21429757f, 0.35561907f, 0.5511844f},
    {0.21239477f, 0.35968273f, 0.55171011f},
    {0.2105031f, 0.36372671f, 0.55220646f},
    {0.20862342f, 0.36775151f, 0.55267486f},
    {0.20675628f, 0.37175775f, 0.55311653f},
    {0.20490257f, 0.37574589f, 0.55353282f},
    {0.20306309f, 0.37971644f, 0.55392505f},
    {0.20123854f, 0.38366989f, 0.55429441f},
    {0.1994295f, 0.38760678f, 0.55464205f},
    {0.1976365f, 0.39152762f, 0.55496905f},
    {0.19585993f, 0.39543297f, 0.55527637f},
    {0.19410009f, 0.39932336f, 0.55556494f},
    {0.19235719f, 0.40319934f, 0.55583559f},
    {0.19063135f, 0.40706148f, 0.55608907f},
    {0.18892259f, 0.41091033f, 0.55632606f},
    {0.18723083f, 0.41474645f, 0.55654717f},
    {0.18555593f, 0.4185704f, 0.55675292f},
    {0.18389763f, 0.42238275f, 0.55694377f},
    {0.18225561f, 0.42618405f, 0.5571201f},
    {0.18062949f, 0.42997486f, 0.55728221f},
    {0.17901879f, 0.43375572f, 0.55743035f},
    {0.17742298f, 0.4375272f, 0.55756466f},
    {0.17584148f, 0.44128981f, 0.55768526f},
    {0.17427363f, 0.4450441f, 0.55779216f},
    {0.17271876f, 0.4487906f, 0.55788532f},
    {0.17117615f, 0.4525298f, 0.55796464f},
    {0.16964573f, 0.45626209f, 0.55803034f},
    {0.16812641f, 0.45998802f, 0.55808199f},
    {0.1666171f, 0.46370813f, 0.55811913f},
    {0.16511703f, 0.4674229f, 0.55814141f},
    {0.16362543f, 0.47113278f, 0.55814842f},
    {0.16214155f, 0.47483821f, 0.55813967f},
    {0.16066467f, 0.47853961f, 0.55811466f},
    {0.15919413f, 0.4822374f, 0.5580728f},
    {0.15772933f, 0.48593197f, 0.55801347f},
    {0.15626973f, 0.4896237f, 0.557936f},
    {0.15481488f, 0.49331293f, 0.55783967f},
    {0.15336445f, 0.49700003f, 0.55772371f},
    {0.1519182f, 0.50068529f, 0.55758733f},
    {0.15047605f, 0.50436904f, 0.55742968f},
    {0.14903918f, 0.50805136f, 0.5572505f},
    {0.14760731f, 0.51173263f, 0.55704861f},
    {0.14618026f, 0.51541316f, 0.55682271f},
    {0.14475863f, 0.51909319f, 0.55657181f},
    {0.14334327f, 0.52277292f, 0.55629491f},
    {0.14193527f, 0.52645254f, 0.55599097f},
    {0.14053599f, 0.53013219f, 0.55565893f},
    {0.13914708f, 0.53381201f, 0.55529773f},
    {0.13777048f, 0.53749213f, 0.55490625f},
    {0.1364085f, 0.54117264f, 0.55448339f},
    {0.13506561f, 0.54485335f, 0.55402906f},
    {0.13374299f, 0.54853458f, 0.55354108f},
    {0.13244401f, 0.55221637f, 0.55301828f},
    {0.13117249f, 0.55589872f, 0.55245948f},
    {0.1299327f, 0.55958162f, 0.55186354f},
    {0.12872938f, 0.56326503f, 0.55122927f},
    {0.12756771f, 0.56694891f, 0.55055551f},
    {0.12645338f, 0.57063316f, 0.5498411f},
    {0.12539383f, 0.57431754f, 0.54908564f},
    {0.12439474f, 0.57800205f, 0.5482874f},
    {0.12346281f, 0.58168661f, 0.54744498f},
    {0.12260562f, 0.58537105f, 0.54655722f},
    {0.12183122f, 0.58905521f, 0.54562298f},
    {0.12114807f, 0.59273889f, 0.54464114f},
    {0.12056501f, 0.59642187f, 0.54361058f},
    {0.12009154f, 0.60010387f, 0.54253043f},
    {0.11973756f, 0.60378459f, 0.54139999f},
    {0.11951163f, 0.60746388f, 0.54021751f},
    {0.11942341f, 0.61114146f, 0.53898192f},
    {0.11948255f, 0.61481702f, 0.53769219f},
    {0.11969858f, 0.61849025f, 0.53634733f},
    {0.12008079f, 0.62216081f, 0.53494633f},
    {0.12063824f, 0.62582833f, 0.53348834f},
    {0.12137972f, 0.62949242f, 0.53197275f},
    {0.12231244f, 0.63315277f, 0.53039808f},
    {0.12344358f, 0.63680899f, 0.52876343f},
    {0.12477953f, 0.64046069f, 0.52706792f},
    {0.12632581f, 0.64410744f, 0.52531069f},
    {0.12808703f, 0.64774881f, 0.52349092f},
    {0.13006688f, 0.65138436f, 0.52160791f},
    {0.13226797f, 0.65501363f, 0.51966086f},
    {0.13469183f, 0.65863619f, 0.5176488f},
    {0.13733921f, 0.66225157f, 0.51557101f},
    {0.14020991f, 0.66585927f, 0.5134268f},
    {0.14330291f, 0.66945881f, 0.51121549f},
    {0.1466164f, 0.67304968f, 0.50893644f},
    {0.15014782f, 0.67663139f, 0.5065889f},
    {0.15389405f, 0.68020343f, 0.50417217f},
    {0.15785146f, 0.68376525f, 0.50168574f},
    {0.16201598f, 0.68731632f, 0.49912906f},
    {0.1663832f, 0.69085611f, 0.49650163f},
    {0.1709484f, 0.69438405f, 0.49380294f},
    {0.17570671f, 0.6978996f, 0.49103252f},
    {0.18065314f, 0.70140222f, 0.48818938f},
    {0.18578266f, 0.70489133f, 0.48527326f},
    {0.19109018f, 0.70836635f, 0.48228395f},
    {0.19657063f, 0.71182668f, 0.47922108f},
    {0.20221902f, 0.71527175f, 0.47608431f},
    {0.20803045f, 0.71870095f, 0.4728733f},
    {0.21400015f, 0.72211371f, 0.46958774f},
    {0.22012381f, 0.72550945f, 0.46622638f},
    {0.2263969f, 0.72888753f, 0.46278934f},
    {0.23281498f, 0.73224735f, 0.45927675f},
    {0.2393739f, 0.73558828f, 0.45568838f},
    {0.24606968f, 0.73890972f, 0.45202405f},
    {0.25289851f, 0.74221104f, 0.44828355f},
    {0.25985676f, 0.74549162f, 0.44446673f},
    {0.26694127f, 0.74875084f, 0.44057284f},
    {0.27414922f, 0.75198807f, 0.4366009f},
    {0.28147681f, 0.75520266f, 0.43255207f},
    {0.28892102f, 0.75839399f, 0.42842626f},
    {0.29647899f, 0.76156142f, 0.42422341f},
    {0.30414796f, 0.76470433f, 0.41994346f},
    {0.31192534f, 0.76782207f, 0.41558638f},
    {0.3198086f, 0.77091403f, 0.41115215f},
    {0.3277958f, 0.77397953f, 0.40664011f},
    {0.33588539f, 0.7770179f, 0.40204917f},
    {0.34407411f, 0.78002855f, 0.39738103f},
    {0.35235985f, 0.78301086f, 0.39263579f},
    {0.36074053f, 0.78596419f, 0.38781353f},
    {0.3692142f, 0.78888793f, 0.38291438f},
    {0.37777892f, 0.79178146f, 0.3779385f},
    {0.38643282f, 0.79464415f, 0.37288606f},
    {0.39517408f, 0.79747541f, 0.36775726f},
    {0.40400101f, 0.80027461f, 0.36255223f},
    {0.4129135f, 0.80304099f, 0.35726893f},
    {0.42190813f, 0.80577412f, 0.35191009f},
    {0.43098317f, 0.80847343f, 0.34647607f},
    {0.44013691f, 0.81113836f, 0.3409673f},
    {0.44936763f, 0.81376835f, 0.33538426f},
    {0.45867362f, 0.81636288f, 0.32972749f},
    {0.46805314f, 0.81892143f, 0.32399761f},
    {0.47750446f, 0.82144351f, 0.31819529f},
    {0.4870258f, 0.82392862f, 0.31232133f},
    {0.49661536f, 0.82637633f, 0.30637661f},
    {0.5062713f, 0.82878621f, 0.30036211f},
    {0.51599182f, 0.83115784f, 0.29427888f},
    {0.52577622f, 0.83349064f, 0.2881265f},
    {0.5356211f, 0.83578452f, 0.28190832f},
    {0.5455244f, 0.83803918f, 0.27562602f},
    {0.55548397f, 0.84025437f, 0.26928147f},
    {0.5654976f, 0.8424299f, 0.26287683f},
    {0.57556297f, 0.84456561f, 0.25641457f},
    {0.58567772f, 0.84666139f, 0.24989748f},
    {0.59583934f, 0.84871722f, 0.24332878f},
    {0.60604528f, 0.8507331f, 0.23671214f},
    {0.61629283f, 0.85270912f, 0.23005179f},
    {0.62657923f, 0.85464543f, 0.22335258f},
    {0.63690157f, 0.85654226f, 0.21662012f},
    {0.64725685f, 0.85839991f, 0.20986086f},
    {0.65764197f, 0.86021878f, 0.20308229f},
    {0.66805369f, 0.86199932f, 0.19629307f},
    {0.67848868f, 0.86374211f, 0.18950326f},
    {0.68894351f, 0.86544779f, 0.18272455f},
    {0.69941463f, 0.86711711f, 0.17597055f},
    {0.70989842f, 0.86875092f, 0.16925712f},
    {0.72039115f, 0.87035015f, 0.16260273f},
    {0.73088902f, 0.87191584f, 0.15602894f},
    {0.74138803f, 0.87344918f, 0.14956101f},
    {0.75188414f, 0.87495143f, 0.14322828f},
    {0.76237342f, 0.87642392f, 0.13706449f},
    {0.77285183f, 0.87786808f, 0.13110864f},
    {0.78331535f, 0.87928545f, 0.12540538f},
    {0.79375994f, 0.88067763f, 0.12000532f},
    {0.80418159f, 0.88204632f, 0.11496505f},
    {0.81457634f, 0.88339329f, 0.11034678f},
    {0.82494028f, 0.88472036f, 0.10621724f},
    {0.83526959f, 0.88602943f, 0.1026459f},
    {0.84556056f, 0.88732243f, 0.09970219f},
    {0.8558096f, 0.88860134f, 0.09745186f},
    {0.86601325f, 0.88986815f, 0.09595277f},
    {0.87616824f, 0.89112487f, 0.09525046f},
    {0.88627146f, 0.89237353f, 0.09537439f},
    {0.89632002f, 0.89361614f, 0.09633538f},
    {0.90631121f, 0.89485467f, 0.09812496f},
    {0.91624212f, 0.89609127f, 0.1007168f},
    {0.92610579f, 0.89732977f, 0.10407067f},
    {0.93590444f, 0.8985704f, 0.10813094f},
    {0.94563626f, 0.899815f, 0.11283773f},
    {0.95529972f, 0.90106534f, 0.11812832f},
    {0.96489353f, 0.90232311f, 0.12394051f},
    {0.97441665f, 0.90358991f, 0.13021494f},
    {0.98386829f, 0.90486726f, 0.13689671f},
    {0.99324789f, 0.90615657f, 0.1439362f}};

const size_t magma_n = 256;
const float magma_palette[magma_n][3] = {
    {0.001462f, 0.000466f, 0.013866f}, {0.002258f, 0.001295f, 0.018331f},
    {0.003279f, 0.002305f, 0.023708f}, {0.004512f, 0.00349f, 0.029965f},
    {0.00595f, 0.004843f, 0.03713f},   {0.007588f, 0.006356f, 0.044973f},
    {0.009426f, 0.008022f, 0.052844f}, {0.011465f, 0.009828f, 0.06075f},
    {0.013708f, 0.011771f, 0.068667f}, {0.016156f, 0.01384f, 0.076603f},
    {0.018815f, 0.016026f, 0.084584f}, {0.021692f, 0.01832f, 0.09261f},
    {0.024792f, 0.020715f, 0.100676f}, {0.028123f, 0.023201f, 0.108787f},
    {0.031696f, 0.025765f, 0.116965f}, {0.03552f, 0.028397f, 0.125209f},
    {0.039608f, 0.03109f, 0.133515f},  {0.04383f, 0.03383f, 0.141886f},
    {0.048062f, 0.036607f, 0.150327f}, {0.05232f, 0.039407f, 0.158841f},
    {0.056615f, 0.04216f, 0.167446f},  {0.060949f, 0.044794f, 0.176129f},
    {0.06533f, 0.047318f, 0.184892f},  {0.069764f, 0.049726f, 0.193735f},
    {0.074257f, 0.052017f, 0.20266f},  {0.078815f, 0.054184f, 0.211667f},
    {0.083446f, 0.056225f, 0.220755f}, {0.088155f, 0.058133f, 0.229922f},
    {0.092949f, 0.059904f, 0.239164f}, {0.097833f, 0.061531f, 0.248477f},
    {0.102815f, 0.06301f, 0.257854f},  {0.107899f, 0.064335f, 0.267289f},
    {0.113094f, 0.065492f, 0.276784f}, {0.118405f, 0.066479f, 0.286321f},
    {0.123833f, 0.067295f, 0.295879f}, {0.12938f, 0.067935f, 0.305443f},
    {0.135053f, 0.068391f, 0.315f},    {0.140858f, 0.068654f, 0.324538f},
    {0.146785f, 0.068738f, 0.334011f}, {0.152839f, 0.068637f, 0.343404f},
    {0.159018f, 0.068354f, 0.352688f}, {0.165308f, 0.067911f, 0.361816f},
    {0.171713f, 0.067305f, 0.370771f}, {0.178212f, 0.066576f, 0.379497f},
    {0.184801f, 0.065732f, 0.387973f}, {0.19146f, 0.064818f, 0.396152f},
    {0.198177f, 0.063862f, 0.404009f}, {0.204935f, 0.062907f, 0.411514f},
    {0.211718f, 0.061992f, 0.418647f}, {0.218512f, 0.061158f, 0.425392f},
    {0.225302f, 0.060445f, 0.431742f}, {0.232077f, 0.059889f, 0.437695f},
    {0.238826f, 0.059517f, 0.443256f}, {0.245543f, 0.059352f, 0.448436f},
    {0.25222f, 0.059415f, 0.453248f},  {0.258857f, 0.059706f, 0.45771f},
    {0.265447f, 0.060237f, 0.46184f},  {0.271994f, 0.060994f, 0.46566f},
    {0.278493f, 0.061978f, 0.46919f},  {0.284951f, 0.063168f, 0.472451f},
    {0.291366f, 0.064553f, 0.475462f}, {0.29774f, 0.066117f, 0.478243f},
    {0.304081f, 0.067835f, 0.480812f}, {0.310382f, 0.069702f, 0.483186f},
    {0.316654f, 0.07169f, 0.48538f},   {0.322899f, 0.073782f, 0.487408f},
    {0.329114f, 0.075972f, 0.489287f}, {0.335308f, 0.078236f, 0.491024f},
    {0.341482f, 0.080564f, 0.492631f}, {0.347636f, 0.082946f, 0.494121f},
    {0.353773f, 0.085373f, 0.495501f}, {0.359898f, 0.087831f, 0.496778f},
    {0.366012f, 0.090314f, 0.49796f},  {0.372116f, 0.092816f, 0.499053f},
    {0.378211f, 0.095332f, 0.500067f}, {0.384299f, 0.097855f, 0.501002f},
    {0.390384f, 0.100379f, 0.501864f}, {0.396467f, 0.102902f, 0.502658f},
    {0.402548f, 0.10542f, 0.503386f},  {0.408629f, 0.10793f, 0.504052f},
    {0.414709f, 0.110431f, 0.504662f}, {0.420791f, 0.11292f, 0.505215f},
    {0.426877f, 0.115395f, 0.505714f}, {0.432967f, 0.117855f, 0.50616f},
    {0.439062f, 0.120298f, 0.506555f}, {0.445163f, 0.122724f, 0.506901f},
    {0.451271f, 0.125132f, 0.507198f}, {0.457386f, 0.127522f, 0.507448f},
    {0.463508f, 0.129893f, 0.507652f}, {0.46964f, 0.132245f, 0.507809f},
    {0.47578f, 0.134577f, 0.507921f},  {0.481929f, 0.136891f, 0.507989f},
    {0.488088f, 0.139186f, 0.508011f}, {0.494258f, 0.141462f, 0.507988f},
    {0.500438f, 0.143719f, 0.50792f},  {0.506629f, 0.145958f, 0.507806f},
    {0.512831f, 0.148179f, 0.507648f}, {0.519045f, 0.150383f, 0.507443f},
    {0.52527f, 0.152569f, 0.507192f},  {0.531507f, 0.154739f, 0.506895f},
    {0.537755f, 0.156894f, 0.506551f}, {0.544015f, 0.159033f, 0.506159f},
    {0.550287f, 0.161158f, 0.505719f}, {0.556571f, 0.163269f, 0.50523f},
    {0.562866f, 0.165368f, 0.504692f}, {0.569172f, 0.167454f, 0.504105f},
    {0.57549f, 0.16953f, 0.503466f},   {0.581819f, 0.171596f, 0.502777f},
    {0.588158f, 0.173652f, 0.502035f}, {0.594508f, 0.175701f, 0.501241f},
    {0.600868f, 0.177743f, 0.500394f}, {0.607238f, 0.179779f, 0.499492f},
    {0.613617f, 0.181811f, 0.498536f}, {0.620005f, 0.18384f, 0.497524f},
    {0.626401f, 0.185867f, 0.496456f}, {0.632805f, 0.187893f, 0.495332f},
    {0.639216f, 0.189921f, 0.49415f},  {0.645633f, 0.191952f, 0.49291f},
    {0.652056f, 0.193986f, 0.491611f}, {0.658483f, 0.196027f, 0.490253f},
    {0.664915f, 0.198075f, 0.488836f}, {0.671349f, 0.200133f, 0.487358f},
    {0.677786f, 0.202203f, 0.485819f}, {0.684224f, 0.204286f, 0.484219f},
    {0.690661f, 0.206384f, 0.482558f}, {0.697098f, 0.208501f, 0.480835f},
    {0.703532f, 0.210638f, 0.479049f}, {0.709962f, 0.212797f, 0.477201f},
    {0.716387f, 0.214982f, 0.47529f},  {0.722805f, 0.217194f, 0.473316f},
    {0.729216f, 0.219437f, 0.471279f}, {0.735616f, 0.221713f, 0.46918f},
    {0.742004f, 0.224025f, 0.467018f}, {0.748378f, 0.226377f, 0.464794f},
    {0.754737f, 0.228772f, 0.462509f}, {0.761077f, 0.231214f, 0.460162f},
    {0.767398f, 0.233705f, 0.457755f}, {0.773695f, 0.236249f, 0.455289f},
    {0.779968f, 0.238851f, 0.452765f}, {0.786212f, 0.241514f, 0.450184f},
    {0.792427f, 0.244242f, 0.447543f}, {0.798608f, 0.24704f, 0.444848f},
    {0.804752f, 0.249911f, 0.442102f}, {0.810855f, 0.252861f, 0.439305f},
    {0.816914f, 0.255895f, 0.436461f}, {0.822926f, 0.259016f, 0.433573f},
    {0.828886f, 0.262229f, 0.430644f}, {0.834791f, 0.26554f, 0.427671f},
    {0.840636f, 0.268953f, 0.424666f}, {0.846416f, 0.272473f, 0.421631f},
    {0.852126f, 0.276106f, 0.418573f}, {0.857763f, 0.279857f, 0.415496f},
    {0.86332f, 0.283729f, 0.412403f},  {0.868793f, 0.287728f, 0.409303f},
    {0.874176f, 0.291859f, 0.406205f}, {0.879464f, 0.296125f, 0.403118f},
    {0.884651f, 0.30053f, 0.400047f},  {0.889731f, 0.305079f, 0.397002f},
    {0.8947f, 0.309773f, 0.393995f},   {0.899552f, 0.314616f, 0.391037f},
    {0.904281f, 0.31961f, 0.388137f},  {0.908884f, 0.324755f, 0.385308f},
    {0.913354f, 0.330052f, 0.382563f}, {0.917689f, 0.3355f, 0.379915f},
    {0.921884f, 0.341098f, 0.377376f}, {0.925937f, 0.346844f, 0.374959f},
    {0.929845f, 0.352734f, 0.372677f}, {0.933606f, 0.358764f, 0.370541f},
    {0.937221f, 0.364929f, 0.368567f}, {0.940687f, 0.371224f, 0.366762f},
    {0.944006f, 0.377643f, 0.365136f}, {0.94718f, 0.384178f, 0.363701f},
    {0.95021f, 0.39082f, 0.362468f},   {0.953099f, 0.397563f, 0.361438f},
    {0.955849f, 0.4044f, 0.360619f},   {0.958464f, 0.411324f, 0.360014f},
    {0.960949f, 0.418323f, 0.35963f},  {0.96331f, 0.42539f, 0.359469f},
    {0.965549f, 0.432519f, 0.359529f}, {0.967671f, 0.439703f, 0.35981f},
    {0.96968f, 0.446936f, 0.360311f},  {0.971582f, 0.45421f, 0.36103f},
    {0.973381f, 0.46152f, 0.361965f},  {0.975082f, 0.468861f, 0.363111f},
    {0.97669f, 0.476226f, 0.364466f},  {0.97821f, 0.483612f, 0.366025f},
    {0.979645f, 0.491014f, 0.367783f}, {0.981f, 0.498428f, 0.369734f},
    {0.982279f, 0.505851f, 0.371874f}, {0.983485f, 0.51328f, 0.374198f},
    {0.984622f, 0.520713f, 0.376698f}, {0.985693f, 0.528148f, 0.379371f},
    {0.9867f, 0.535582f, 0.38221f},    {0.987646f, 0.543015f, 0.38521f},
    {0.988533f, 0.550446f, 0.388365f}, {0.989363f, 0.557873f, 0.391671f},
    {0.990138f, 0.565296f, 0.395122f}, {0.990871f, 0.572706f, 0.398714f},
    {0.991558f, 0.580107f, 0.402441f}, {0.992196f, 0.587502f, 0.406299f},
    {0.992785f, 0.594891f, 0.410283f}, {0.993326f, 0.602275f, 0.41439f},
    {0.993834f, 0.609644f, 0.418613f}, {0.994309f, 0.616999f, 0.42295f},
    {0.994738f, 0.62435f, 0.427397f},  {0.995122f, 0.631696f, 0.431951f},
    {0.99548f, 0.639027f, 0.436607f},  {0.99581f, 0.646344f, 0.441361f},
    {0.996096f, 0.653659f, 0.446213f}, {0.996341f, 0.660969f, 0.45116f},
    {0.99658f, 0.668256f, 0.456192f},  {0.996775f, 0.675541f, 0.461314f},
    {0.996925f, 0.682828f, 0.466526f}, {0.997077f, 0.690088f, 0.471811f},
    {0.997186f, 0.697349f, 0.477182f}, {0.997254f, 0.704611f, 0.482635f},
    {0.997325f, 0.711848f, 0.488154f}, {0.997351f, 0.719089f, 0.493755f},
    {0.997351f, 0.726324f, 0.499428f}, {0.997341f, 0.733545f, 0.505167f},
    {0.997285f, 0.740772f, 0.510983f}, {0.997228f, 0.747981f, 0.516859f},
    {0.997138f, 0.75519f, 0.522806f},  {0.997019f, 0.762398f, 0.528821f},
    {0.996898f, 0.769591f, 0.534892f}, {0.996727f, 0.776795f, 0.541039f},
    {0.996571f, 0.783977f, 0.547233f}, {0.996369f, 0.791167f, 0.553499f},
    {0.996162f, 0.798348f, 0.55982f},  {0.995932f, 0.805527f, 0.566202f},
    {0.99568f, 0.812706f, 0.572645f},  {0.995424f, 0.819875f, 0.57914f},
    {0.995131f, 0.827052f, 0.585701f}, {0.994851f, 0.834213f, 0.592307f},
    {0.994524f, 0.841387f, 0.598983f}, {0.994222f, 0.84854f, 0.605696f},
    {0.993866f, 0.855711f, 0.612482f}, {0.993545f, 0.862859f, 0.619299f},
    {0.99317f, 0.870024f, 0.626189f},  {0.992831f, 0.877168f, 0.633109f},
    {0.99244f, 0.88433f, 0.640099f},   {0.992089f, 0.89147f, 0.647116f},
    {0.991688f, 0.898627f, 0.654202f}, {0.991332f, 0.905763f, 0.661309f},
    {0.99093f, 0.912915f, 0.668481f},  {0.99057f, 0.920049f, 0.675675f},
    {0.990175f, 0.927196f, 0.682926f}, {0.989815f, 0.934329f, 0.690198f},
    {0.989434f, 0.94147f, 0.697519f},  {0.989077f, 0.948604f, 0.704863f},
    {0.988717f, 0.955742f, 0.712242f}, {0.988367f, 0.962878f, 0.719649f},
    {0.988033f, 0.970012f, 0.727077f}, {0.987691f, 0.977154f, 0.734536f},
    {0.987387f, 0.984288f, 0.742002f}, {0.987053f, 0.991438f, 0.749504f}};

// clang-format on
}  // namespace viz
}  // namespace ouster
